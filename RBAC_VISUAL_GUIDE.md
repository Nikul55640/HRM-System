# RBAC Sidebar Navigation - Visual Guide

## Sidebar Structure by Role

### ðŸŸ¢ Employee Role
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HRM System v1.0             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ðŸ“Š Overview                        â”‚
â”‚    â”œâ”€ Dashboard                     â”‚
â”‚    â””â”€ Notifications                 â”‚
â”‚                                     â”‚
â”‚  ðŸ‘¤ My Workspace  â† EMPLOYEE ONLY   â”‚
â”‚    â”œâ”€ Profile                       â”‚
â”‚    â”œâ”€ Bank Details                  â”‚
â”‚    â”œâ”€ Attendance                    â”‚
â”‚    â”œâ”€ Attendance Corrections        â”‚
â”‚    â”œâ”€ Leave                         â”‚
â”‚    â”œâ”€ Leads                         â”‚
â”‚    â”œâ”€ Shifts                        â”‚
â”‚    â””â”€ Calendar                      â”‚
â”‚                                     â”‚
â”‚  âš™ï¸ Settings  â† EMPLOYEE ONLY       â”‚
â”‚    â”œâ”€ Profile                       â”‚
â”‚    â”œâ”€ Security                      â”‚
â”‚    â””â”€ Emergency Contacts            â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    HRM System v1.0 Â© 2025           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ðŸŸ  HR_Manager Role
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HRM System v1.0             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ðŸ“Š Overview                        â”‚
â”‚    â”œâ”€ Dashboard                     â”‚
â”‚    â””â”€ Notifications                 â”‚
â”‚                                     â”‚
â”‚  ðŸ“‹ Requests & Approvals            â”‚
â”‚    â”œâ”€ Attendance Corrections        â”‚
â”‚    â””â”€ Leave Requests                â”‚
â”‚                                     â”‚
â”‚  â° Attendance & Time                â”‚
â”‚    â”œâ”€ Attendance Overview           â”‚
â”‚    â”œâ”€ Live Attendance               â”‚
â”‚    â””â”€ Shift Management              â”‚
â”‚                                     â”‚
â”‚  ðŸ“… Leave & Holidays                â”‚
â”‚    â”œâ”€ Leave Balances                â”‚
â”‚    â”œâ”€ Holiday Management            â”‚
â”‚    â”œâ”€ Smart Calendar                â”‚
â”‚    â””â”€ Holiday Sync                  â”‚
â”‚                                     â”‚
â”‚  ðŸ‘¥ People                          â”‚
â”‚    â”œâ”€ Employees                     â”‚
â”‚    â”œâ”€ Departments                   â”‚
â”‚    â”œâ”€ Designations                  â”‚
â”‚    â”œâ”€ Bank Verification             â”‚
â”‚    â””â”€ Lead Management               â”‚
â”‚                                     â”‚
â”‚  ðŸ¢ Organization                    â”‚
â”‚    â”œâ”€ Policies                      â”‚
â”‚    â”œâ”€ Documents                     â”‚
â”‚    â””â”€ Announcements                 â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    HRM System v1.0 Â© 2025           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ðŸ”´ HR_Admin Role
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HRM System v1.0             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ðŸ“Š Overview                        â”‚
â”‚    â”œâ”€ Dashboard                     â”‚
â”‚    â””â”€ Notifications                 â”‚
â”‚                                     â”‚
â”‚  ðŸ“‹ Requests & Approvals            â”‚
â”‚    â”œâ”€ Attendance Corrections        â”‚
â”‚    â””â”€ Leave Requests                â”‚
â”‚                                     â”‚
â”‚  â° Attendance & Time                â”‚
â”‚    â”œâ”€ Attendance Overview           â”‚
â”‚    â”œâ”€ Live Attendance               â”‚
â”‚    â””â”€ Shift Management              â”‚
â”‚                                     â”‚
â”‚  ðŸ“… Leave & Holidays                â”‚
â”‚    â”œâ”€ Leave Balances                â”‚
â”‚    â”œâ”€ Rollover                      â”‚
â”‚    â”œâ”€ Holiday Management            â”‚
â”‚    â”œâ”€ Smart Calendar                â”‚
â”‚    â””â”€ Holiday Sync                  â”‚
â”‚                                     â”‚
â”‚  ðŸ‘¥ People                          â”‚
â”‚    â”œâ”€ Employees                     â”‚
â”‚    â”œâ”€ Departments                   â”‚
â”‚    â”œâ”€ Designations                  â”‚
â”‚    â”œâ”€ Bank Verification             â”‚
â”‚    â””â”€ Lead Management               â”‚
â”‚                                     â”‚
â”‚  ðŸ¢ Organization                    â”‚
â”‚    â”œâ”€ Policies                      â”‚
â”‚    â”œâ”€ Documents                     â”‚
â”‚    â””â”€ Announcements                 â”‚
â”‚                                     â”‚
â”‚  ðŸ”’ System  â† HR_ADMIN & SUPERADMIN â”‚
â”‚    â”œâ”€ Users & Roles                 â”‚
â”‚    â”œâ”€ Admin Settings                â”‚
â”‚    â”œâ”€ System Policies               â”‚
â”‚    â””â”€ Audit Logs                    â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    HRM System v1.0 Â© 2025           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ðŸ”µ SuperAdmin Role
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HRM System v1.0             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ðŸ“Š Overview                        â”‚
â”‚    â”œâ”€ Dashboard                     â”‚
â”‚    â””â”€ Notifications                 â”‚
â”‚                                     â”‚
â”‚  ðŸ“‹ Requests & Approvals            â”‚
â”‚    â”œâ”€ Attendance Corrections        â”‚
â”‚    â””â”€ Leave Requests                â”‚
â”‚                                     â”‚
â”‚  â° Attendance & Time                â”‚
â”‚    â”œâ”€ Attendance Overview           â”‚
â”‚    â”œâ”€ Live Attendance               â”‚
â”‚    â””â”€ Shift Management              â”‚
â”‚                                     â”‚
â”‚  ðŸ“… Leave & Holidays                â”‚
â”‚    â”œâ”€ Leave Balances                â”‚
â”‚    â”œâ”€ Rollover                      â”‚
â”‚    â”œâ”€ Holiday Management            â”‚
â”‚    â”œâ”€ Smart Calendar                â”‚
â”‚    â””â”€ Holiday Sync                  â”‚
â”‚                                     â”‚
â”‚  ðŸ‘¥ People                          â”‚
â”‚    â”œâ”€ Employees                     â”‚
â”‚    â”œâ”€ Departments                   â”‚
â”‚    â”œâ”€ Designations                  â”‚
â”‚    â”œâ”€ Bank Verification             â”‚
â”‚    â””â”€ Lead Management               â”‚
â”‚                                     â”‚
â”‚  ðŸ¢ Organization                    â”‚
â”‚    â”œâ”€ Policies                      â”‚
â”‚    â”œâ”€ Documents                     â”‚
â”‚    â””â”€ Announcements                 â”‚
â”‚                                     â”‚
â”‚  ðŸ”’ System                          â”‚
â”‚    â”œâ”€ Users & Roles                 â”‚
â”‚    â”œâ”€ Admin Settings                â”‚
â”‚    â”œâ”€ System Policies               â”‚
â”‚    â””â”€ Audit Logs                    â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    HRM System v1.0 Â© 2025           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Permission Inheritance Hierarchy

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   SuperAdmin     â”‚
                    â”‚  (All Perms)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Inherits
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    HR_Admin      â”‚
                    â”‚ (HR Ops + Admin) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Inherits
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   HR_Manager     â”‚
                    â”‚  (HR Operations) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Inherits
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Employee      â”‚
                    â”‚ (Self-Service)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## The Fix Explained

### Before Fix (âŒ WRONG)
```
My Workspace Section:
  showIf: () => can.do(MODULES.EMPLOYEE.VIEW_OWN)
  
  Result:
  - Employee: âœ… Has permission â†’ VISIBLE
  - HR_Manager: âœ… Has permission (inherited) â†’ VISIBLE âŒ WRONG!
  - HR_Admin: âœ… Has permission (inherited) â†’ VISIBLE âŒ WRONG!
  - SuperAdmin: âœ… Has permission (inherited) â†’ VISIBLE âŒ WRONG!
```

### After Fix (âœ… CORRECT)
```
My Workspace Section:
  showIf: () => can.do(MODULES.EMPLOYEE.VIEW_OWN) && user?.role === "Employee"
  
  Result:
  - Employee: âœ… Has permission AND is Employee â†’ VISIBLE âœ…
  - HR_Manager: âœ… Has permission BUT not Employee â†’ HIDDEN âœ…
  - HR_Admin: âœ… Has permission BUT not Employee â†’ HIDDEN âœ…
  - SuperAdmin: âœ… Has permission BUT not Employee â†’ HIDDEN âœ…
```

---

## Decision Tree

```
User logs in
    â”‚
    â”œâ”€ Is role "Employee"?
    â”‚   â”œâ”€ YES â†’ Show "My Workspace" + "Settings"
    â”‚   â”‚        Show "Overview" only
    â”‚   â”‚        Hide all admin sections
    â”‚   â”‚
    â”‚   â””â”€ NO â†’ Hide "My Workspace" + "Settings"
    â”‚           Show "Overview"
    â”‚           Show admin sections based on permissions
    â”‚
    â””â”€ Is role "HR_Manager" or "HR_Admin" or "SuperAdmin"?
        â”œâ”€ YES â†’ Show admin sections
        â”‚        Hide personal sections
        â”‚        (System section only for HR_Admin/SuperAdmin)
        â”‚
        â””â”€ NO â†’ Show only Employee sections
```

---

## Access Control Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Section          â”‚ Employee â”‚ HR_Manager â”‚ HR_Admin â”‚ SuperAdminâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Overview         â”‚    âœ…    â”‚     âœ…     â”‚    âœ…    â”‚     âœ…    â”‚
â”‚ My Workspace     â”‚    âœ…    â”‚     âŒ     â”‚    âŒ    â”‚     âŒ    â”‚
â”‚ Settings         â”‚    âœ…    â”‚     âŒ     â”‚    âŒ    â”‚     âŒ    â”‚
â”‚ Requests & Apps  â”‚    âŒ    â”‚     âœ…     â”‚    âœ…    â”‚     âœ…    â”‚
â”‚ Attendance & Timeâ”‚    âŒ    â”‚     âœ…     â”‚    âœ…    â”‚     âœ…    â”‚
â”‚ Leave & Holidays â”‚    âŒ    â”‚     âœ…     â”‚    âœ…    â”‚     âœ…    â”‚
â”‚ People           â”‚    âŒ    â”‚     âœ…     â”‚    âœ…    â”‚     âœ…    â”‚
â”‚ Organization     â”‚    âŒ    â”‚     âœ…     â”‚    âœ…    â”‚     âœ…    â”‚
â”‚ System           â”‚    âŒ    â”‚     âŒ     â”‚    âœ…    â”‚     âœ…    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Code Logic Visualization

### My Workspace Section
```javascript
showIf: () => {
  // Step 1: Check permission
  const hasPermission = can.do(MODULES.EMPLOYEE.VIEW_OWN);
  
  // Step 2: Check role
  const isEmployee = user?.role === "Employee";
  
  // Step 3: Both must be true (AND logic)
  return hasPermission && isEmployee;
}

// Examples:
// Employee: true && true = true â†’ VISIBLE âœ…
// HR_Manager: true && false = false â†’ HIDDEN âœ…
// HR_Admin: true && false = false â†’ HIDDEN âœ…
// SuperAdmin: true && false = false â†’ HIDDEN âœ…
```

---

## Testing Flowchart

```
Start Test
    â”‚
    â”œâ”€ Login as Employee
    â”‚   â”œâ”€ Check "My Workspace" visible? â†’ YES âœ…
    â”‚   â”œâ”€ Check "Settings" visible? â†’ YES âœ…
    â”‚   â”œâ”€ Check admin sections hidden? â†’ YES âœ…
    â”‚   â””â”€ PASS âœ…
    â”‚
    â”œâ”€ Login as HR_Manager
    â”‚   â”œâ”€ Check "My Workspace" hidden? â†’ YES âœ…
    â”‚   â”œâ”€ Check "Settings" hidden? â†’ YES âœ…
    â”‚   â”œâ”€ Check admin sections visible? â†’ YES âœ…
    â”‚   â”œâ”€ Check "System" hidden? â†’ YES âœ…
    â”‚   â””â”€ PASS âœ…
    â”‚
    â”œâ”€ Login as HR_Admin
    â”‚   â”œâ”€ Check "My Workspace" hidden? â†’ YES âœ…
    â”‚   â”œâ”€ Check "Settings" hidden? â†’ YES âœ…
    â”‚   â”œâ”€ Check admin sections visible? â†’ YES âœ…
    â”‚   â”œâ”€ Check "System" visible? â†’ YES âœ…
    â”‚   â””â”€ PASS âœ…
    â”‚
    â””â”€ Login as SuperAdmin
        â”œâ”€ Check "My Workspace" hidden? â†’ YES âœ…
        â”œâ”€ Check "Settings" hidden? â†’ YES âœ…
        â”œâ”€ Check admin sections visible? â†’ YES âœ…
        â”œâ”€ Check "System" visible? â†’ YES âœ…
        â””â”€ PASS âœ…

All Tests Pass â†’ âœ… DEPLOYMENT READY
```

---

## Key Takeaways

1. **Hybrid Approach**: Combine permissions (what) + roles (who)
2. **AND Logic**: Both conditions must be true
3. **Clear Separation**: Personal sections for Employee, admin sections for HR roles
4. **No Confusion**: Each role sees exactly what they need
5. **Secure**: Proper access control prevents unauthorized access

---

## Related Documentation

- Quick Reference: `RBAC_QUICK_FIX_REFERENCE.md`
- Full Summary: `RBAC_SIDEBAR_FIX_SUMMARY.md`
- Testing Guide: `RBAC_TESTING_GUIDE.md`
- Feature Matrix: `ROLE_FUNCTIONALITY_MATRIX.md`
- Task Summary: `TASK_5_COMPLETION_SUMMARY.md`
